<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">/* ==========================================================
 * bootstrap-carousel.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */


!function ($) {

  &quot;use strict&quot;; // jshint ;_;


 /* CAROUSEL CLASS DEFINITION
  * ========================= */

  var Carousel = function (element, options) {
    this.$element = $(element)
    this.$indicators = this.$element.find(&#39;.carousel-indicators&#39;)
    this.options = options
    this.options.pause == &#39;hover&#39; &amp;&amp; this.$element
      .on(&#39;mouseenter&#39;, $.proxy(this.pause, this))
      .on(&#39;mouseleave&#39;, $.proxy(this.cycle, this))
  }

  Carousel.prototype = {

    cycle: function (e) {
      if (!e) this.paused = false
      if (this.interval) clearInterval(this.interval);
      this.options.interval
        &amp;&amp; !this.paused
        &amp;&amp; (this.interval = setInterval($.proxy(this.next, this), this.options.interval))
      return this
    }

  , getActiveIndex: function () {
      this.$active = this.$element.find(&#39;.item.active&#39;)
      this.$items = this.$active.parent().children()
      return this.$items.index(this.$active)
    }

  , to: function (pos) {
      var activeIndex = this.getActiveIndex()
        , that = this

      if (pos &gt; (this.$items.length - 1) || pos &lt; 0) return

      if (this.sliding) {
        return this.$element.one(&#39;slid&#39;, function () {
          that.to(pos)
        })
      }

      if (activeIndex == pos) {
        return this.pause().cycle()
      }

      return this.slide(pos &gt; activeIndex ? &#39;next&#39; : &#39;prev&#39;, $(this.$items[pos]))
    }

  , pause: function (e) {
      if (!e) this.paused = true
      if (this.$element.find(&#39;.next, .prev&#39;).length &amp;&amp; $.support.transition.end) {
        this.$element.trigger($.support.transition.end)
        this.cycle(true)
      }
      clearInterval(this.interval)
      this.interval = null
      return this
    }

  , next: function () {
      if (this.sliding) return
      return this.slide(&#39;next&#39;)
    }

  , prev: function () {
      if (this.sliding) return
      return this.slide(&#39;prev&#39;)
    }

  , slide: function (type, next) {
      var $active = this.$element.find(&#39;.item.active&#39;)
        , $next = next || $active[type]()
        , isCycling = this.interval
        , direction = type == &#39;next&#39; ? &#39;left&#39; : &#39;right&#39;
        , fallback  = type == &#39;next&#39; ? &#39;first&#39; : &#39;last&#39;
        , that = this
        , e

      this.sliding = true

      isCycling &amp;&amp; this.pause()

      $next = $next.length ? $next : this.$element.find(&#39;.item&#39;)[fallback]()

      e = $.Event(&#39;slide&#39;, {
        relatedTarget: $next[0]
      , direction: direction
      })

      if ($next.hasClass(&#39;active&#39;)) return

      if (this.$indicators.length) {
        this.$indicators.find(&#39;.active&#39;).removeClass(&#39;active&#39;)
        this.$element.one(&#39;slid&#39;, function () {
          var $nextIndicator = $(that.$indicators.children()[that.getActiveIndex()])
          $nextIndicator &amp;&amp; $nextIndicator.addClass(&#39;active&#39;)
        })
      }

      if ($.support.transition &amp;&amp; this.$element.hasClass(&#39;slide&#39;)) {
        this.$element.trigger(e)
        if (e.isDefaultPrevented()) return
        $next.addClass(type)
        $next[0].offsetWidth // force reflow
        $active.addClass(direction)
        $next.addClass(direction)
        this.$element.one($.support.transition.end, function () {
          $next.removeClass([type, direction].join(&#39; &#39;)).addClass(&#39;active&#39;)
          $active.removeClass([&#39;active&#39;, direction].join(&#39; &#39;))
          that.sliding = false
          setTimeout(function () { that.$element.trigger(&#39;slid&#39;) }, 0)
        })
      } else {
        this.$element.trigger(e)
        if (e.isDefaultPrevented()) return
        $active.removeClass(&#39;active&#39;)
        $next.addClass(&#39;active&#39;)
        this.sliding = false
        this.$element.trigger(&#39;slid&#39;)
      }

      isCycling &amp;&amp; this.cycle()

      return this
    }

  }


 /* CAROUSEL PLUGIN DEFINITION
  * ========================== */

  var old = $.fn.carousel

  $.fn.carousel = function (option) {
    return this.each(function () {
      var $this = $(this)
        , data = $this.data(&#39;carousel&#39;)
        , options = $.extend({}, $.fn.carousel.defaults, typeof option == &#39;object&#39; &amp;&amp; option)
        , action = typeof option == &#39;string&#39; ? option : options.slide
      if (!data) $this.data(&#39;carousel&#39;, (data = new Carousel(this, options)))
      if (typeof option == &#39;number&#39;) data.to(option)
      else if (action) data[action]()
      else if (options.interval) data.pause().cycle()
    })
  }

  $.fn.carousel.defaults = {
    interval: 5000
  , pause: &#39;hover&#39;
  }

  $.fn.carousel.Constructor = Carousel


 /* CAROUSEL NO CONFLICT
  * ==================== */

  $.fn.carousel.noConflict = function () {
    $.fn.carousel = old
    return this
  }

 /* CAROUSEL DATA-API
  * ================= */

  $(document).on(&#39;click.carousel.data-api&#39;, &#39;[data-slide], [data-slide-to]&#39;, function (e) {
    var $this = $(this), href
      , $target = $($this.attr(&#39;data-target&#39;) || (href = $this.attr(&#39;href&#39;)) &amp;&amp; href.replace(/.*(?=#[^\s]+$)/, &#39;&#39;)) //strip for ie7
      , options = $.extend({}, $target.data(), $this.data())
      , slideIndex

    $target.carousel(options)

    if (slideIndex = $this.attr(&#39;data-slide-to&#39;)) {
      $target.data(&#39;carousel&#39;).pause().to(slideIndex).cycle()
    }

    e.preventDefault()
  })

}(window.jQuery);</pre>
</body>
</html>
