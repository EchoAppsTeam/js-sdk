<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">(function($){
	//Save original function reference for internal usage
	var _val = $.fn.val;
	$.iHint = function(target, options) {
		var jElement = $(target);
		//Default values
		target.iHint = {
			&quot;text&quot;: &quot;iHint Text&quot;,
			&quot;className&quot;: &quot;iHint-default&quot;
		};
		//Override with extra parameters
		$.extend(target.iHint, options);
		//Set event callbacks, attributes and call blur
		jElement
			.blur(function() {
				if (!_val.call(jElement)) {
					jElement.addClass(target.iHint.className);
					_val.call(jElement, target.iHint.text);
				}
			})
			.focus(function() {
				if (_val.call(jElement) == target.iHint.text) {
					jElement.removeClass(target.iHint.className);
					_val.call(jElement, &quot;&quot;);
				}
			})
			.trigger(&quot;blur&quot;);
	};
	$.fn.iHint = function(options) {
		return this.each(function() {
			new $.iHint(this, options);
		});
	};
	//override default &quot;val&quot; function so it could be used on iHint elements
	$.fn.val = function(value) {
		if (this[0] &amp;&amp; this[0].iHint) {
			if (typeof(value) == &#39;undefined&#39;) {
				if (_val.apply(this, arguments) == this[0].iHint.text) {
					return &quot;&quot;;
				}
			} else {
				this.removeClass(this[0].iHint.className);
				return _val.apply(this, arguments);
			}
		} 
		return _val.apply(this, arguments);
	};
})(jQuery);
</pre>
</body>
</html>
