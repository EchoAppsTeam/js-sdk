<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">(function(jQuery) {

var $ = jQuery;

if (!window.Echo) window.Echo = {};

if (!Echo.GUI || Echo.GUI.Button) return;

<span id='Echo-GUI-Button-method-constructor'><span id='Echo-GUI-Button-cfg-disabled'><span id='Echo-GUI-Button-cfg-icon'><span id='Echo-GUI-Button-cfg-label'><span id='Echo-GUI-Button-cfg-target'><span id='Echo-GUI-Button'>/**
</span></span></span></span></span></span> * @class Echo.GUI.Button
 * Class wrapper for &lt;a href=&quot;http://twitter.github.com/bootstrap/javascript.html#buttons&quot;&gt;bootstrap-button.js&lt;/a&gt;.
 * The Echo.GUI.Button class provides a simplified interface to work with the
 * Bootstrap Button JS class.
 * Echo wrapper assembles the HTML code required for Bootstrap Button JS class
 * based on the parameters specified in the config and initializes
 * the corresponding Bootstrap JS class.
 *
 * Example:
 *
 * 	element.on(&quot;click&quot;, function() {
 * 		// your click action handler...
 * 	});
 * 	var button = new Echo.GUI.Button({
 * 		&quot;target&quot;: element,
 * 		&quot;label&quot;: &quot;Button label&quot;,
 * 		&quot;icon&quot;: &quot;http://example.com/icon.png&quot;,
 * 		&quot;disabled&quot;: true
 * 	});
 *
 * 	// Change the button title
 * 	button.setState({&quot;label&quot;: &quot;New button label&quot;});
 *
 * 	// Destroy the button
 * 	button.destroy();
 *
 * @extends Echo.GUI
 *
 * @package gui.pack.js
 *
 * @constructor
 * Creates a button inside the container defined in the â€œtarget&quot; config parameter.
 *
 * @param {Object} config
 * Button configuration data.
 *
 * @cfg {Mixed} target
 * The container where the button should be located.
 * This parameter can have several types:
 *
 * + CSS selector (ex: &quot;.css-selector&quot;)
 * + HTMLElement (ex: document.getElementById(&quot;some-element-id&quot;))
 * + jQuery object (ex: $(&quot;.css-selector&quot;))
 *
 * @cfg {String} label
 * Button label.
 *
 * @cfg {String} [icon]
 * URL for the icon which should be displayed near the label.
 *
 * @cfg {Boolean} [disabled=false]
 * Specifies whether the button should be disabled.
 */
Echo.GUI.Button = Echo.Utils.inherit(Echo.GUI, function(config) {
	Echo.GUI.call(this, config, {
		&quot;label&quot;: config.target.html(),
		&quot;disabled&quot;: !!config.target.attr(&quot;disabled&quot;)
	});
});

<span id='Echo-GUI-Button-method-setState'>/**
</span> * Allows to repaint the button using arbitrary values for configuration
 * parameters from #constructor
 */
Echo.GUI.Button.prototype.setState = function(config) {
	var self = this;
	$.each(config, function(k, v) {
		self.config.set(k, v);
	});
	this.refresh();
};

Echo.GUI.Button.prototype.refresh = function() {
	var target = this.config.get(&quot;target&quot;);

	target.empty().append(&#39;&lt;div class=&quot;echo-label&quot;&gt;&#39;);

	$(&quot;.echo-label&quot;, target).text(this.config.get(&quot;label&quot;));
	var iconElement = $(&quot;.echo-icon&quot;, target);
	if (this.config.get(&quot;icon&quot;)) {
		if (!iconElement.length) {
			iconElement = $(&quot;&lt;div&gt;&quot;).addClass(&quot;echo-icon&quot;).prependTo(target);
		}
		iconElement.css({&quot;background&quot;: &quot;no-repeat center url(&quot; + this.config.get(&quot;icon&quot;) + &quot;)&quot;});
	} else {
		iconElement.remove();
	}
	target.attr(&quot;disabled&quot;, this.config.get(&quot;disabled&quot;));
};

})(Echo.jQuery);
</pre>
</body>
</html>
