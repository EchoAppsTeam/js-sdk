<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">/* =========================================================
 * bootstrap-timepicker.js
 * http://www.github.com/jdewit/bootstrap-timepicker
 * =========================================================
 * Copyright 2012
 *
 * Created By:
 * Joris de Wit @joris_dewit
 *
 * Contributions By:
 * Gilbert @mindeavor
 * Koen Punt info@koenpunt.nl
 * Nek
 * Chris Martin
 * Dominic Barnes contact@dominicbarnes.us
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */

!function($) {

    &quot;use strict&quot;; // jshint ;_;

    /* TIMEPICKER PUBLIC CLASS DEFINITION
     * ================================== */
    var Timepicker = function(element, options) {
        this.$element = $(element);
        this.options = $.extend({}, $.fn.timepicker.defaults, options, this.$element.data());
        this.minuteStep = this.options.minuteStep || this.minuteStep;
        this.secondStep = this.options.secondStep || this.secondStep;
        this.showMeridian = this.options.showMeridian || this.showMeridian;
        this.showSeconds = this.options.showSeconds || this.showSeconds;
        this.showInputs = this.options.showInputs || this.showInputs;
        this.disableFocus = this.options.disableFocus || this.disableFocus;
        this.template = this.options.template || this.template;
        this.modalBackdrop = this.options.modalBackdrop || this.modalBackdrop;
        this.defaultTime = this.options.defaultTime || this.defaultTime;
        this.open = false;
        this.init();
    };

    Timepicker.prototype = {

        constructor: Timepicker

        , init: function () {
            if (this.$element.parent().hasClass('input-append')) {
                this.$element.parent('.input-append').find('.add-on').on('click', $.proxy(this.showWidget, this));
                this.$element.on({
                    focus: $.proxy(this.highlightUnit, this),
                    click: $.proxy(this.highlightUnit, this),
                    keypress: $.proxy(this.elementKeypress, this),
                    blur: $.proxy(this.updateFromElementVal, this)
                });

            } else {
                if (this.template) {
                    this.$element.on({
                        focus: $.proxy(this.showWidget, this),
                        click: $.proxy(this.showWidget, this),
                        blur: $.proxy(this.updateFromElementVal, this)
                    });
                } else {
                    this.$element.on({
                        focus: $.proxy(this.highlightUnit, this),
                        click: $.proxy(this.highlightUnit, this),
                        keypress: $.proxy(this.elementKeypress, this),
                        blur: $.proxy(this.updateFromElementVal, this)
                    });
                }
            }
            

            this.$widget = $(this.getTemplate()).appendTo('body');
            
            this.$widget.on('click', $.proxy(this.widgetClick, this));

            if (this.showInputs) {
                this.$widget.find('input').on({
                    click: function() { this.select(); },
                    keypress: $.proxy(this.widgetKeypress, this),
                    change: $.proxy(this.updateFromWidgetInputs, this)
                });
            } 

            this.setDefaultTime(this.defaultTime);
        }

        , showWidget: function(e) {
            e.stopPropagation();
            e.preventDefault();

            if (this.open) {
                return;
            }

            this.$element.trigger('show');

            if (this.disableFocus) {
                this.$element.blur();
            }

            var pos = $.extend({}, this.$element.offset(), {
                height: this.$element[0].offsetHeight
            });

            this.updateFromElementVal();

            $('html')
                .trigger('click.timepicker.data-api')
                .one('click.timepicker.data-api', $.proxy(this.hideWidget, this));

            if (this.template === 'modal') {
                this.$widget.modal('show').on('hidden', $.proxy(this.hideWidget, this));
            } else {
                this.$widget.css({
                    top: pos.top + pos.height
                    , left: pos.left
                })

                if (!this.open) {
                    this.$widget.addClass('open');
                }
            }

            this.open = true;
            this.$element.trigger('shown');
        }

        , hideWidget: function(){
            this.$element.trigger('hide');
            
            if (this.template === 'modal') {
                this.$widget.modal('hide');
            } else {
                this.$widget.removeClass('open');
            }
            this.open = false;
            this.$element.trigger('hidden');
        }

        , widgetClick: function(e) {
            e.stopPropagation();
            e.preventDefault();

            var action = $(e.target).closest('a').data('action');
            if (action) {
                this[action]();
                this.update();
            }
        }

        , widgetKeypress: function(e) {
            var input = $(e.target).closest('input').attr('name');

            switch (e.keyCode) {
                case 9: //tab
                    if (this.showMeridian) {
                        if (input == 'meridian') { 
                            this.hideWidget();
                        }
                    } else {
                        if (this.showSeconds) { 
                            if (input == 'second') {
                                this.hideWidget();
                            }
                        } else {
                            if (input == 'minute') {
                                this.hideWidget();
                            }
                        }
                    }
                break;
                case 27: // escape
                    this.hideWidget();
                break;
                case 38: // up arrow
                    switch (input) {
                        case 'hour':
                            this.incrementHour();
                        break;
                        case 'minute':
                            this.incrementMinute();
                        break;
                        case 'second':
                            this.incrementSecond();
                        break;
                        case 'meridian':
                            this.toggleMeridian();
                        break;
                    }
                    this.update();
                break;
                case 40: // down arrow
                    switch (input) {
                        case 'hour':
                            this.decrementHour();
                        break;
                        case 'minute':
                            this.decrementMinute();
                        break;
                        case 'second':
                            this.decrementSecond();
                        break;
                        case 'meridian':
                            this.toggleMeridian();
                        break;
                    }
                    this.update();
                break;
            }
        }

        , elementKeypress: function(e) {
            var input = this.$element.get(0);
            switch (e.keyCode) {
                case 0: //input
                break;
                case 9: //tab
                    this.updateFromElementVal();
                    if (this.showMeridian) {
                        if (this.highlightedUnit != 'meridian') {
                            e.preventDefault();
                            this.highlightNextUnit();
                        }
                    } else {
                        if (this.showSeconds) { 
                            if (this.highlightedUnit != 'second') {
                                e.preventDefault();
                                this.highlightNextUnit();
                            }
                        } else {
                            if (this.highlightedUnit != 'minute') {
                                e.preventDefault();
                                this.highlightNextUnit();
                            }
                        }
                    }
                break;
                case 27: // escape
                    this.updateFromElementVal();
                break;
                case 37: // left arrow
                    this.updateFromElementVal();
                    this.highlightPrevUnit();
                break;
                case 38: // up arrow
                    switch (this.highlightedUnit) {
                        case 'hour':
                            this.incrementHour();
                        break;
                        case 'minute':
                            this.incrementMinute();
                        break;
                        case 'second':
                            this.incrementSecond();
                        break;
                        case 'meridian':
                            this.toggleMeridian();
                        break;
                    }
                    this.updateElement();
                break;
                case 39: // right arrow
                    this.updateFromElementVal();
                    this.highlightNextUnit();
                break;
                case 40: // down arrow
                    switch (this.highlightedUnit) {
                        case 'hour':
                            this.decrementHour();
                        break;
                        case 'minute':
                            this.decrementMinute();
                        break;
                        case 'second':
                            this.decrementSecond();
                        break;
                        case 'meridian':
                            this.toggleMeridian();
                        break;
                    }
                    this.updateElement();
                break;
            }
            
            if (e.keyCode !== 0 &amp;&amp; e.keyCode !== 8 &amp;&amp; e.keyCode !== 9 &amp;&amp; e.keyCode !== 46) {
                e.preventDefault();
            }
        }

        , setValues: function(time) {
            if (this.showMeridian) {
                var arr = time.split(' ');
                var timeArray = arr[0].split(':');
                this.meridian = arr[1];
            } else {
                var timeArray = time.split(':');
            }

            this.hour = parseInt(timeArray[0], 10);
            this.minute = parseInt(timeArray[1], 10);
            this.second = parseInt(timeArray[2], 10);

            if (isNaN(this.hour)) {
                this.hour = 1;
            } 
            if (isNaN(this.minute)) {
                this.minute = 0;
            }

            if (this.showMeridian) {
                if (this.hour &gt; 12) {
                    this.hour = 12;
                } else if (this.hour &lt; 1) {
                    this.hour = 1;
                }

                if (this.meridian == 'am' || this.meridian == 'a') {
                    this.meridian = 'AM';
                } else if (this.meridian == 'pm' || this.meridian == 'p') {
                    this.meridian = 'PM';
                } 

                if (this.meridian != 'AM' &amp;&amp; this.meridian != 'PM') {
                    this.meridian = 'AM';
                }
            }

            if (this.minute &lt; 0) {
                this.minute = 0;
            } else if (this.minute &gt; 60) {
                this.minute = 60;
            }

            if (this.showSeconds) {
                if (isNaN(this.second)) {
                    this.second = 0;
                } else if (this.second &lt; 0) {
                    this.second = 0;
                } else if (this.second &gt; 60) {
                    this.second = 60;
                }
            }

            this.updateElement();
            this.updateWidget();
        }

        , setMeridian: function(meridian) {
            if (meridian == 'a' || meridian == 'am' || meridian == 'AM' ) {
                this.meridian = 'AM';
            } else if (meridian == 'p' || meridian == 'pm' || meridian == 'PM' ) {
                this.meridian = 'PM';
            } else {
                this.updateWidget();
            }

            this.updateElement();
        }

        , setDefaultTime: function(defaultTime){
            if (defaultTime) {
                if (defaultTime === 'current') {
                    var dTime = new Date();
                    var hours = dTime.getHours();
                    var minutes = Math.floor(dTime.getMinutes() / this.minuteStep) * this.minuteStep;
                    var seconds = Math.floor(dTime.getSeconds() / this.secondStep) * this.secondStep;
                    var meridian = &quot;AM&quot;;
                    if (this.showMeridian) {
                        if (hours === 0) {
                            hours = 12;
                        } else if (hours &gt;= 12) {
                            if (hours &gt; 12) {
                                hours = hours - 12;
                            }
                            meridian = &quot;PM&quot;;
                        } else {
                           meridian = &quot;AM&quot;;
                        }
                    }
                    this.hour = hours;
                    this.minute = minutes;
                    this.second = seconds;
                    this.meridian = meridian;
                } else if (defaultTime === 'value') {
                    this.setValues(this.$element.val());
                } else {
                    this.setValues(defaultTime);
                }
                this.update();
            } else {
                this.hour = 0;
                this.minute = 0;
                this.second = 0;
            }
        }

        , formatTime: function(hour, minute, second, meridian) {
            hour = hour &lt; 10 ? '0' + hour : hour;
            minute = minute &lt; 10 ? '0' + minute : minute;
            second = second &lt; 10 ? '0' + second : second;

            return hour + ':' + minute + (this.showSeconds ? ':' + second : '') + (this.showMeridian ? ' ' + meridian : '');
        }

        , getTime: function() {
            return this.formatTime(this.hour, this.minute, this.second, this.meridian);
        }

        , setTime: function(time) {
            this.setValues(time);
            this.update();
        }

        , update: function() {
            this.updateElement();
            this.updateWidget();
        }

        , updateElement: function() {
            var time = this.getTime();

            this.$element.val(time).change();

            switch (this.highlightedUnit) {
                case 'hour':
                    this.highlightHour();
                break;
                case 'minute':
                    this.highlightMinute();
                break;
                case 'second':
                    this.highlightSecond();
                break;
                case 'meridian':
                    this.highlightMeridian();
                break;
            }
        }

        , updateWidget: function() {
            if (this.showInputs) {
                this.$widget.find('input.bootstrap-timepicker-hour').val(this.hour &lt; 10 ? '0' + this.hour : this.hour);
                this.$widget.find('input.bootstrap-timepicker-minute').val(this.minute &lt; 10 ? '0' + this.minute : this.minute);
                if (this.showSeconds) {
                    this.$widget.find('input.bootstrap-timepicker-second').val(this.second &lt; 10 ? '0' + this.second : this.second);
                }
                if (this.showMeridian) {
                    this.$widget.find('input.bootstrap-timepicker-meridian').val(this.meridian);
                }
            } else {
                this.$widget.find('span.bootstrap-timepicker-hour').text(this.hour);
                this.$widget.find('span.bootstrap-timepicker-minute').text(this.minute &lt; 10 ? '0' + this.minute : this.minute);
                if (this.showSeconds) {
                    this.$widget.find('span.bootstrap-timepicker-second').text(this.second &lt; 10 ? '0' + this.second : this.second);
                }
                if (this.showMeridian) {
                    this.$widget.find('span.bootstrap-timepicker-meridian').text(this.meridian);
                }
            }
        }

        , updateFromElementVal: function (e) {
            var time = this.$element.val();
            if (time) {
                this.setValues(time);
                this.updateWidget();
            }
        }

        , updateFromWidgetInputs: function () {
            var time = $('input.bootstrap-timepicker-hour').val() + ':' + 
                       $('input.bootstrap-timepicker-minute').val() +
                       (this.showSeconds ? 
                           ':' + $('input.bootstrap-timepicker-second').val() 
                        : '') +
                       (this.showMeridian ? 
                           ' ' + $('input.bootstrap-timepicker-meridian').val() 
                        : '');

            this.setValues(time);
        }

        , getCursorPosition: function() {
            var input = this.$element.get(0);

            if ('selectionStart' in input) {
                // Standard-compliant browsers
                return input.selectionStart;
            } else if (document.selection) {
                // IE fix
                input.focus();
                var sel = document.selection.createRange();
                var selLen = document.selection.createRange().text.length;
                sel.moveStart('character', - input.value.length);

                return sel.text.length - selLen;
            }
        }

        , highlightUnit: function () {
            var input = this.$element.get(0);

            this.position = this.getCursorPosition();
            if (this.position &gt;= 0 &amp;&amp; this.position &lt;= 2) {
                this.highlightHour();
            } else if (this.position &gt;= 3 &amp;&amp; this.position &lt;= 5) {
                this.highlightMinute();
            } else if (this.position &gt;= 6 &amp;&amp; this.position &lt;= 8) {
                if (this.showSeconds) {
                    this.highlightSecond();
                } else {
                    this.highlightMeridian();
                }
            } else if (this.position &gt;= 9 &amp;&amp; this.position &lt;= 11) {
                this.highlightMeridian();
            }
        }

        , highlightNextUnit: function() {
            switch (this.highlightedUnit) {
                case 'hour':
                    this.highlightMinute();
                break;
                case 'minute':
                    if (this.showSeconds) {
                        this.highlightSecond();
                    } else {
                        this.highlightMeridian();
                    }
                break;
                case 'second':
                    this.highlightMeridian();
                break;
                case 'meridian':
                    this.highlightHour();
                break;
            }
        }

        , highlightPrevUnit: function() {
            switch (this.highlightedUnit) {
                case 'hour':
                    this.highlightMeridian();
                break;
                case 'minute':
                    this.highlightHour();
                break;
                case 'second':
                    this.highlightMinute();
                break;
                case 'meridian':
                    if (this.showSeconds) {
                        this.highlightSecond();
                    } else {
                        this.highlightMinute();
                    }
                break;
            }
        }

        , highlightHour: function() {
            this.highlightedUnit = 'hour';
            this.$element.get(0).setSelectionRange(0,2); 
        }

        , highlightMinute: function() {
            this.highlightedUnit = 'minute';
            this.$element.get(0).setSelectionRange(3,5); 
        }

        , highlightSecond: function() {
            this.highlightedUnit = 'second';
            this.$element.get(0).setSelectionRange(6,8); 
        }

        , highlightMeridian: function() {
            this.highlightedUnit = 'meridian';
            if (this.showSeconds) {
                this.$element.get(0).setSelectionRange(9,11); 
            } else {
                this.$element.get(0).setSelectionRange(6,8); 
            }
        }

        , incrementHour: function() {
            if (this.showMeridian) {
                if (this.hour === 11) {
                    this.toggleMeridian();
                } else if (this.hour === 12) {
                    return this.hour = 1;
                }
            }
            if (this.hour === 23) {
                return this.hour = 0;
            }
            this.hour = this.hour + 1;
        }

        , decrementHour: function() {
            if (this.showMeridian) {
                if (this.hour === 1) {
                    return this.hour = 12;
                } 
                else if (this.hour === 12) {
                    this.toggleMeridian();
                }
            }
            if (this.hour === 0) {
                return this.hour = 23;
            }
            this.hour = this.hour - 1;
        }

        , incrementMinute: function() {
            var newVal = this.minute + this.minuteStep - (this.minute % this.minuteStep);
            if (newVal &gt; 59) {
                this.incrementHour();
                this.minute = newVal - 60;
            } else {
                this.minute = newVal;
            }
        }

        , decrementMinute: function() {
            var newVal = this.minute - this.minuteStep;
            if (newVal &lt; 0) {
                this.decrementHour();
                this.minute = newVal + 60;
            } else {
                this.minute = newVal;
            }
        }

        , incrementSecond: function() {
            var newVal = this.second + this.secondStep - (this.second % this.secondStep);
            if (newVal &gt; 59) {
                this.incrementMinute();
                this.second = newVal - 60;
            } else {
                this.second = newVal;
            }
        }

        , decrementSecond: function() {
            var newVal = this.second - this.secondStep;
            if (newVal &lt; 0) {
                this.decrementMinute();
                this.second = newVal + 60;
            } else {
                this.second = newVal;
            }
        }

        , toggleMeridian: function() {
            this.meridian = this.meridian === 'AM' ? 'PM' : 'AM';

            this.update();
        }

        , getTemplate: function() {
            if (this.options.templates[this.options.template]) {
                return this.options.templates[this.options.template];
            }
            if (this.showInputs) {
                var hourTemplate = '&lt;input type=&quot;text&quot; name=&quot;hour&quot; class=&quot;bootstrap-timepicker-hour&quot; maxlength=&quot;2&quot;/&gt;';
                var minuteTemplate = '&lt;input type=&quot;text&quot; name=&quot;minute&quot; class=&quot;bootstrap-timepicker-minute&quot; maxlength=&quot;2&quot;/&gt;';
                var secondTemplate = '&lt;input type=&quot;text&quot; name=&quot;second&quot; class=&quot;bootstrap-timepicker-second&quot; maxlength=&quot;2&quot;/&gt;';
                var meridianTemplate = '&lt;input type=&quot;text&quot; name=&quot;meridian&quot; class=&quot;bootstrap-timepicker-meridian&quot; maxlength=&quot;2&quot;/&gt;';
            } else {
                var hourTemplate = '&lt;span class=&quot;bootstrap-timepicker-hour&quot;&gt;&lt;/span&gt;';
                var minuteTemplate = '&lt;span class=&quot;bootstrap-timepicker-minute&quot;&gt;&lt;/span&gt;';
                var secondTemplate = '&lt;span class=&quot;bootstrap-timepicker-second&quot;&gt;&lt;/span&gt;';
                var meridianTemplate = '&lt;span class=&quot;bootstrap-timepicker-meridian&quot;&gt;&lt;/span&gt;';
            }
            var templateContent = '&lt;table class=&quot;'+ (this.showSeconds ? 'show-seconds' : '') +' '+ (this.showMeridian ? 'show-meridian' : '') +'&quot;&gt;'+
                                       '&lt;tr&gt;'+
                                           '&lt;td&gt;&lt;a href=&quot;#&quot; data-action=&quot;incrementHour&quot;&gt;&lt;i class=&quot;icon-chevron-up&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;'+
                                           '&lt;td class=&quot;separator&quot;&gt;&amp;nbsp;&lt;/td&gt;'+
                                           '&lt;td&gt;&lt;a href=&quot;#&quot; data-action=&quot;incrementMinute&quot;&gt;&lt;i class=&quot;icon-chevron-up&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;'+
                                           (this.showSeconds ? 
                                               '&lt;td class=&quot;separator&quot;&gt;&amp;nbsp;&lt;/td&gt;'+
                                               '&lt;td&gt;&lt;a href=&quot;#&quot; data-action=&quot;incrementSecond&quot;&gt;&lt;i class=&quot;icon-chevron-up&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;'
                                           : '') +
                                           (this.showMeridian ? 
                                               '&lt;td class=&quot;separator&quot;&gt;&amp;nbsp;&lt;/td&gt;'+
                                               '&lt;td class=&quot;meridian-column&quot;&gt;&lt;a href=&quot;#&quot; data-action=&quot;toggleMeridian&quot;&gt;&lt;i class=&quot;icon-chevron-up&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;'
                                           : '') +
                                       '&lt;/tr&gt;'+
                                       '&lt;tr&gt;'+
                                           '&lt;td&gt;'+ hourTemplate +'&lt;/td&gt; '+
                                           '&lt;td class=&quot;separator&quot;&gt;:&lt;/td&gt;'+
                                           '&lt;td&gt;'+ minuteTemplate +'&lt;/td&gt; '+
                                           (this.showSeconds ? 
                                                '&lt;td class=&quot;separator&quot;&gt;:&lt;/td&gt;'+
                                                '&lt;td&gt;'+ secondTemplate +'&lt;/td&gt;'
                                           : '') +
                                           (this.showMeridian ? 
                                                '&lt;td class=&quot;separator&quot;&gt;&amp;nbsp;&lt;/td&gt;'+
                                                '&lt;td&gt;'+ meridianTemplate +'&lt;/td&gt;'
                                           : '') +
                                       '&lt;/tr&gt;'+
                                       '&lt;tr&gt;'+
                                           '&lt;td&gt;&lt;a href=&quot;#&quot; data-action=&quot;decrementHour&quot;&gt;&lt;i class=&quot;icon-chevron-down&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;'+
                                           '&lt;td class=&quot;separator&quot;&gt;&lt;/td&gt;'+
                                           '&lt;td&gt;&lt;a href=&quot;#&quot; data-action=&quot;decrementMinute&quot;&gt;&lt;i class=&quot;icon-chevron-down&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;'+
                                           (this.showSeconds ? 
                                                '&lt;td class=&quot;separator&quot;&gt;&amp;nbsp;&lt;/td&gt;'+
                                                '&lt;td&gt;&lt;a href=&quot;#&quot; data-action=&quot;decrementSecond&quot;&gt;&lt;i class=&quot;icon-chevron-down&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;' 
                                           : '') +
                                           (this.showMeridian ? 
                                                '&lt;td class=&quot;separator&quot;&gt;&amp;nbsp;&lt;/td&gt;'+
                                                '&lt;td&gt;&lt;a href=&quot;#&quot; data-action=&quot;toggleMeridian&quot;&gt;&lt;i class=&quot;icon-chevron-down&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;'
                                           : '') +
                                       '&lt;/tr&gt;'+
                                   '&lt;/table&gt;';

            var template;
            switch(this.options.template) {
                case 'modal':
                    template = '&lt;div class=&quot;bootstrap-timepicker modal hide fade in&quot; style=&quot;top: 30%; margin-top: 0; width: 200px; margin-left: -100px;&quot; data-backdrop=&quot;'+ (this.modalBackdrop ? 'true' : 'false') +'&quot;&gt;'+
                                   '&lt;div class=&quot;modal-header&quot;&gt;'+
                                       '&lt;a href=&quot;#&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot;&gt;Ã—&lt;/a&gt;'+
                                       '&lt;h3&gt;Pick a Time&lt;/h3&gt;'+
                                   '&lt;/div&gt;'+
                                   '&lt;div class=&quot;modal-content&quot;&gt;'+
                                        templateContent +
                                   '&lt;/div&gt;'+
                                   '&lt;div class=&quot;modal-footer&quot;&gt;'+
                                       '&lt;a href=&quot;#&quot; class=&quot;btn btn-primary&quot; data-dismiss=&quot;modal&quot;&gt;Ok&lt;/a&gt;'+
                                   '&lt;/div&gt;'+
                               '&lt;/div&gt;';
                    
                break;
                case 'dropdown':
                    template = '&lt;div class=&quot;bootstrap-timepicker dropdown-menu&quot;&gt;'+
                                    templateContent +
                               '&lt;/div&gt;';
                break;
                
            }
            return template;
        }
    };


    /* TIMEPICKER PLUGIN DEFINITION
     * =========================== */

    $.fn.timepicker = function (option) {
        return this.each(function () {
            var $this = $(this)
            , data = $this.data('timepicker')
            , options = typeof option == 'object' &amp;&amp; option;
            if (!data) {
                $this.data('timepicker', (data = new Timepicker(this, options)));
            }
            if (typeof option == 'string') {
                data[option]();
            }
        })
    }

    $.fn.timepicker.defaults = {
      minuteStep: 15
    , secondStep: 15
    , disableFocus: false
    , defaultTime: 'current'
    , showSeconds: false
    , showInputs: true
    , showMeridian: true
    , template: 'dropdown'
    , modalBackdrop: false
    , templates: {} // set custom templates
    }

    $.fn.timepicker.Constructor = Timepicker
}(jQuery);
</pre>
</body>
</html>
